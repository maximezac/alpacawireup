defaults:
  buy_threshold: 0.35
  sell_threshold: -0.25
  allow_new_symbols: true
  decision_source: CDS          # CDS | TS_ONLY | NS_ONLY
  ns_weight_boost: 1.0
  per_line_frac: 0.10           # of (equity + cash)
  max_deploy_frac: 0.30         # cap total deployed in a single run (null = unlimited)
  trim_fraction: 0.25
  fractional_buys: true
  tags: [ideas]
  trade_scope: none             # none | paper | real | both
  enable_momentum_phase: true
  enable_rotation_upgrade: true
  rotation:
    trigger_cds: 0.50
    min_gap: 0.25
    max_turnover_frac: 0.10
    sell_step_frac: 0.25
    protect_profitable: true

portfolios:
  portfolio_max_personal:
    title: "Max Personal"
    path: data/portfolios/portfolio_max_personal
    positions_csv: positions.csv
    decision_source: CDS
    per_line_frac: 0.03
    max_deploy_frac: null
    trade_scope: real
    tags: [ideas, personal]

  portfolio_max_autotrader:
    title: "AutoTrade my portfolio"
    path: data/portfolios/portfolio_max_autotrader
    per_line_frac: 0.10
    max_deploy_frac: 0.30
    trade_scope: paper
    tags: [ideas, paper]

  port_backfill_5each:
    title: "Backtest Portfolio"
    path: data/portfolios/port_backfill_5each
    positions_csv: positions.csv
    trade_scope: paper
    tags: [ideas, paper, backtest]


  port_backfill_5each_conservative:
    title: "Backtest Portfolio - Conservative"
    path: data/portfolios/port_backfill_5each_conservative
    positions_csv: positions.csv
    trade_scope: paper
    per_line_frac: 0.02
    max_deploy_frac: 0.20
    ns_weight_boost: 0.8
    tags: [ideas, paper, backtest, variant:conservative]

  port_backfill_5each_aggressive:
    title: "Backtest Portfolio - Aggressive"
    path: data/portfolios/port_backfill_5each_aggressive
    positions_csv: positions.csv
    trade_scope: paper
    per_line_frac: 0.12
    max_deploy_frac: 0.50
    ns_weight_boost: 1.2
    tags: [ideas, paper, backtest, variant:aggressive]

  # Additional variants for experiments and sensitivity testing
  port_backfill_5each_trim_low:
    title: "Backtest Portfolio - Low Trim (10%)"
    path: data/portfolios/port_backfill_5each_trim_low
    positions_csv: positions.csv
    trade_scope: paper
    per_line_frac: 0.10
    max_deploy_frac: 0.30
    trim_fraction: 0.10
    tags: [ideas, paper, backtest, variant:trim_low]

  port_backfill_5each_trim_high:
    title: "Backtest Portfolio - High Trim (50%)"
    path: data/portfolios/port_backfill_5each_trim_high
    positions_csv: positions.csv
    trade_scope: paper
    per_line_frac: 0.10
    max_deploy_frac: 0.30
    trim_fraction: 0.50
    tags: [ideas, paper, backtest, variant:trim_high]

  port_backfill_5each_no_fractional:
    title: "Backtest Portfolio - No Fractional Buys"
    path: data/portfolios/port_backfill_5each_no_fractional
    positions_csv: positions.csv
    trade_scope: paper
    per_line_frac: 0.10
    fractional_buys: false
    tags: [ideas, paper, backtest, variant:no_fractional]

  port_backfill_ensemble:
    title: "Backtest Ensemble (parameter-averaged)"
    path: data/portfolios/port_backfill_ensemble
    positions_csv: positions.csv
    trade_scope: paper
    per_line_frac: 0.05
    max_deploy_frac: 0.30
    ns_weight_boost: 1.0
    tags: [ideas, paper, backtest, variant:ensemble]


    




    
